 npx tsx simulate-group-management-kafka.ts
Database connection config: {
  host: undefined,
  database: undefined,
  user: undefined,
  port: undefined
}
Database connected successfully
Connection config: {
  host: '42.96.40.138',
  database: 'content',
  user: 'postgres',
  port: 5432
}
Database connected successfully
Connection config: {
  host: '42.96.40.138',
  database: 'content',
  user: 'postgres',
  port: 5432
}
Database connection test successful: { now: 2025-05-31T09:02:01.523Z }
ğŸ§ª Testing Group Management Kafka Processing...

ğŸ“ Test messages: [
  {
    "groupId": "113751247015017788",
    "groupName": "Gia Ä‘Ã¬nh EMSO",
    "groupType": "public",
    "categories": "gia Ä‘Ã¬nh",
    "adminId": "114550257830462999",
    "adminName": "Admin EMSO",
    "phoneNumber": "0999888777",
    "monetizationEnabled": false
  },
  {
    "groupId": "113751247015017789",
    "groupName": "NhÃ³m CÃ´ng Nghá»‡",
    "groupType": "private",
    "categories": "cÃ´ng nghá»‡",
    "adminId": "114550257830462998",
    "adminName": "Tech Admin",
    "phoneNumber": null,
    "monetizationEnabled": true
  },
  {
    "groupId": "113751247015017790",
    "groupName": "Cá»™ng Äá»“ng Kinh Doanh",
    "groupType": "public",
    "categories": "kinh doanh",
    "adminId": "114550257830462997",
    "adminName": "Business Admin",
    "phoneNumber": "0988123456",
    "monetizationEnabled": false
  }
]
âœ… Found 2 active non-admin users

ğŸ”„ Processing message 1/3: Gia Ä‘Ã¬nh EMSO
ğŸ‘¤ Will assign to: Nguyá»…n HoÃ ng Anh (ID: 3)
âŒ Error processing group 113751247015017788: ReferenceError: sql is not defined
    at testGroupKafkaProcessing (/home/runner/workspace/simulate-group-management-kafka.ts:102:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

ğŸ”„ Processing message 2/3: NhÃ³m CÃ´ng Nghá»‡
ğŸ‘¤ Will assign to: Nguyá»…n HoÃ ng Anh (ID: 3)
âŒ Error processing group 113751247015017789: ReferenceError: sql is not defined
    at testGroupKafkaProcessing (/home/runner/workspace/simulate-group-management-kafka.ts:102:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

ğŸ”„ Processing message 3/3: Cá»™ng Äá»“ng Kinh Doanh
ğŸ‘¤ Will assign to: Nguyá»…n HoÃ ng Anh (ID: 3)
âŒ Error processing group 113751247015017790: ReferenceError: sql is not defined
    at testGroupKafkaProcessing (/home/runner/workspace/simulate-group-management-kafka.ts:102:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

ğŸ“Š Final Assignment Distribution:
   Nguyá»…n HoÃ ng Anh: 0 groups
   Nguyá»…n Thá»‹ KhuyÃªn: 0 groups

âœ… Group management Kafka processing test completed!
ğŸ‰ Script completed successfully
~/workspace$ 